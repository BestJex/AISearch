<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="/css/element-ui.min.css">
    <link rel="stylesheet" href="/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/my-select.css">
    <link rel="stylesheet" href="/css/common.css">
    <style>
        .search {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
<script type="text/javascript" th:inline="javascript">
    var article = [[${article}]];
</script>
<div id="app" style="display: none">
    <div class="query-area">
        <div class="query-row">
            <div class="query-title">员工编号</div>
            <div class="query-input">
                <el-input v-model="addForm.empNo"></el-input>
            </div>
            <div class="query-title">员工姓名</div>
            <div class="query-input">
                <el-input v-model="addForm.empName"></el-input>
            </div>
        </div>
        <div class="query-row">
            <div class="query-title">出生年月</div>
            <div class="query-input">
                <el-date-picker
                        v-model="addForm.empDate"
                        type="date"
                        placeholder="选择日期">
                </el-date-picker>
            </div>
            <div class="query-title">员工性别</div>
            <div class="query-input">
                <el-radio v-model="addForm.empSex" label="1">男</el-radio>
                <el-radio v-model="addForm.empSex" label="2">女</el-radio>
            </div>
        </div>
        <div class="query-row">

        </div>
        <div class="query-row">
            <div class="query-title">家庭地址</div>
            <div class="query-input">
                <el-input type="textarea" v-model="addForm.empAddress"></el-input>
            </div>
        </div>
        <div class="query-row">
            <div class="query-title">所属部门</div>
            <div class="query-input">
                <el-select
                        v-model="addForm.empDeptId"
                        multiple
                        filterable
                        allow-create
                        default-first-option
                        placeholder="">
                    <el-option
                            v-for="item in options1"
                            :key="item.value"
                            :label="item.label"
                            :value="item.value">
                    </el-option>
                </el-select>
            </div>
            <div class="query-title">岗位</div>
            <div class="query-input">
                <el-select
                        v-model="addForm.empPositionId"
                        multiple
                        filterable
                        allow-create
                        default-first-option
                        placeholder="">
                    <el-option
                            v-for="item in options2"
                            :key="item.value"
                            :label="item.label"
                            :value="item.value">
                    </el-option>
                </el-select>
            </div>
        </div>
    </div>

    <div class="search" >
        <div class="query-row">
            <el-button @click="commit">提交</el-button>
            <el-button>重置</el-button>
        </div>
    </div>
</div>
</body>
<script src="/js/jquery-1.9.1.min.js"></script>
<script src="/js/vue.min.js" type="text/javascript"></script>
<script src="/js/element-ui.min.js" type="text/javascript"></script>
<script src="/js/my-select.js" type="text/javascript"></script>

<script>

    var store = {
        options1: [{value: 1, lable: "开发部"}, {value: 2, label: "商务部"}],
        options2: [{value: 1, lable: "销售代表"}, {value: 2, label: "市场总监"}],
        value1: '',
        radio: '1',
        dept: "",
        position: "",
        addForm: {empNo: "", empName: "", empDate: "", empSex: "", empAddress: ""},
        visible: false,
        width: 0,
        title: "",
        article: article,
        message: 'AISearch',
        keyword: "",
        isShow: true
    };
    var app = new Vue({
        el: '#app',
        data: store,
        created: function () {
            this.width = $("#el-input").width();
            /*不加动画或者,时间太少,都回补了顶部,这个速度可以滑到顶部,并且不影响后面的手动下滑*/
            $('html,body').animate({scrollTop: 0}, 500)

            $("#app").show();
        },
        methods: {
            refresh: function () {
                window.location.reload(false);
            },
            remoteMethod1: function () {
                return [{value: 1, lable: "1"}, {value: 2, label: "2"}]
            },
            remoteMethod2: function () {
                return [{value: 1, lable: "1"}, {value: 2, label: "2"}]
            },
            commit: function () {
                var vueThis = this;
                console.log(JSON.stringify(vueThis.addForm));
                $.ajax({
                    type: "post",
                    contentType: "application/json;charset=utf-8",
                    data: JSON.stringify(vueThis.addForm),
                    url: "/toadd",
                    success: function (data) {
                        vueThis.items = data;
                        console.log(store.items);
                    }
                })
            }
        }

    })

</script>
</html>